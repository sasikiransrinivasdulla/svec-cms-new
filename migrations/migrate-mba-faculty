const mysql = require('mysql2/promise');

// mba Faculty data to insert
const mbafaculty = [
    { name: "Mr.D.Naveen Kumar", qualification: "MBA", designation: "Sr.Asst.Professor & HOD", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mr.%20D.Naveen%20Kumar.pdf" },
    { name: "Dr.G.V.Subba Raju", qualification: "MBA,Ph.D", designation: "Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Dr.G.V.%20Subba%20Raju.pdf" },
    { name: "Dr.S.Krishnamurthy Naidu", qualification: "MBA,Ph.D", designation: "Assoc.Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Dr.%20S.%20Krishnamurthy%20Naidu.pdf" },
    { name: "Mr.D. Satyanarayana", qualification: "MA,M.com,MBA,ICWAI(I),SET", designation: "Sr.Asst.Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mr.%20D.Satyanarayana.pdf" },
    { name: "Dr.K.Rambabu", qualification: "MBA,(Ph.D)", designation: "Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Dr.K.Rambabu.pdf" },
    { name: "Mr.T.Dileep", qualification: "MBA,(Ph.D)", designation: "Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mr.T.Dileep.pdf" },
    { name: "Mr. K.Pavan Kumar", qualification: "MBA(Ph.D)", designation: "Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mr.%20K.Pavan%20Kumar.pdf" },
    { name: "Mr. P.Bharat Kumar", qualification: "MBA", designation: "Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mr.%20P.Bharat%20Kumar.pdf" },
    { name: "Mrs. P.Devi", qualification: "MBA", designation: "Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mrs.P.Devi.pdf" },
    { name: "Dr. K.Pulla Rao", qualification: "MBA,Ph.D", designation: "Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Dr.K.Pulla%20Rao.pdf" },
    { name: "Mr. K.Lalitha Bhavani", qualification: "MBA,MHRM", designation: "Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mrs.K.Lalitha%20Bavani.pdf" },
    { name: "Mr. V.Rajasekhar Ryaly", qualification: "MBA", designation: "Sr. Asst. Professor", profileUrl: "http://srivasaviengg.ac.in/faculty_profile/MBA_Mr.%20%20V%20Rajasekhar%20Ryaly.pdf" },
    { name: "Ms. P.Bala Jyothi", qualification: "MBA", designation: "Asst. Professor", profileUrl: "https://srivasaviengg.ac.in/faculty_profile/MBA_" },
    { name: "Ms. V. Sandhya Chowdary", qualification: "MBA", designation: "Asst. Professor", profileUrl: "https://srivasaviengg.ac.in/faculty_profile/MBA_" }
  ];
async function migrateFacultyData() {
    const connection = await mysql.createConnection({
        host: '62.72.31.209',
        user: 'cmsuser',
        password: 'V@savi@2001',
        database: 'svec_cms'
    });

    try {
        console.log('Connected to database');

        /* // Clear existing CSE faculty data
         await connection.execute('DELETE FROM faculty_profiles WHERE dept = ?', ['cse']);
         console.log('Cleared existing CSE faculty data');
     */
        // Insert faculty data
        for (const faculty of mbafaculty) {
            try {
                await connection.execute(`
          INSERT INTO faculty_profiles (
            name, qualification, designation, profile_url, dept, status, created_at
          ) VALUES (?, ?, ?, ?, ?, ?, NOW())
        `, [
                    faculty.name,
                    faculty.qualification,
                    faculty.designation,
                    faculty.profileUrl,
                    'mba',
                    'approved'
                ]);
                console.log(`Inserted: ${faculty.name}`);
            } catch (e) {
                console.log(`Error inserting ${faculty.name}:`, e.message);
            }
        }

        /*// Insert sample labs
        const labs = [
            {
                lab_name: 'James Gosling Lab',
                dept: 'MBA',
                configurations: 'Intel Core i7 processors, 8GB RAM, Windows 11, Visual Studio, Eclipse IDE',
                labs_usage: 'Programming, Software Development, Object-Oriented Programming'
            },
            {
                lab_name: 'AI Research Lab',
                dept: 'MBA',
                configurations: 'High-end GPUs, Python, TensorFlow, PyTorch, Jupyter Notebooks',
                labs_usage: 'Machine Learning, Deep Learning, AI Research Projects'
            },
            {
                lab_name: 'Data Science Lab',
                dept: 'MBA',
                configurations: 'R Studio, Python, Tableau, Apache Spark, Big Data Tools',
                labs_usage: 'Data Analytics, Statistical Analysis, Business Intelligence'
            }
        ];

        await connection.execute('DELETE FROM labs WHERE dept = ?', ['MBA']);
        console.log('Cleared existing CSE lab data');

        for (const lab of labs) {
            try {
                await connection.execute(`
          INSERT INTO labs (
            lab_name, dept, configurations, labs_usage, status, created_at
          ) VALUES (?, ?, ?, ?, ?, NOW())
        `, [
                    lab.lab_name,
                    lab.dept,
                    lab.configurations,
                    lab.labs_usage,
                    'active'
                ]);
                console.log(`Inserted lab: ${lab.lab_name}`);
            } catch (e) {
                console.log(`Error inserting lab ${lab.lab_name}:`, e.message);
            }
        }

        // Insert sample faculty achievements
        const facultyAchievements = [
            {
                dept: 'MBA',
                type: 'Awards',
                title: 'Best Research Paper Award 2024',
                description: 'Dr. D. Jaya Kumari received best research paper award at International Conference on AI'
            },
            {
                dept: 'MBA',
                type: 'Awards',
                title: 'Outstanding Teaching Award',
                description: 'Dr. V. Venkateswara Rao recognized for excellence in teaching and student mentorship'
            },
            {
                dept: 'MBA',
                type: 'Publications',
                title: 'Machine Learning in Healthcare Systems',
                description: 'Published research paper on ML applications in healthcare by Dr. K. Shirin Bhanu'
            }
        ];

        await connection.execute('DELETE FROM faculty_achievements WHERE dept = ?', ['cse']);
        console.log('Cleared existing CSE faculty achievements');

        for (const achievement of facultyAchievements) {
            try {
                await connection.execute(`
          INSERT INTO faculty_achievements (
            dept, type, title, description, approved, created_at
          ) VALUES (?, ?, ?, ?, ?, NOW())
        `, [
                    achievement.dept,
                    achievement.type,
                    achievement.title,
                    achievement.description,
                    1
                ]);
                console.log(`Inserted faculty achievement: ${achievement.title}`);
            } catch (e) {
                console.log(`Error inserting achievement ${achievement.title}:`, e.message);
            }
        }

        // Insert sample student achievements
        const studentAchievements = [
            {
                dept: 'cse',
                type: 'Competitions',
                title: 'First Prize in National Coding Competition',
                name: 'Alice Johnson',
                roll_number: '21A91A0501',
                program: 'btech',
                batch: '2021-25',
                cgpa: 9.2
            },
            {
                dept: 'cse',
                type: 'Student Research Projects',
                title: 'Best Project Award - AI Healthcare Solution',
                name: 'Priya Sharma',
                roll_number: '21A91A0502',
                program: 'btech',
                batch: '2021-25',
                cgpa: 9.5
            },
            {
                dept: 'cse',
                type: 'Internship',
                title: 'Google Summer of Code 2024',
                name: 'Rahul Kumar',
                roll_number: '21A91A0503',
                program: 'btech',
                batch: '2021-25',
                cgpa: 9.0
            }
        ];

        await connection.execute('DELETE FROM student_achievements WHERE dept = ?', ['cse']);
        console.log('Cleared existing CSE student achievements');

        for (const achievement of studentAchievements) {
            try {
                await connection.execute(`
          INSERT INTO student_achievements (
            dept, type, title, name, roll_number, program, batch, cgpa, created_at
          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, NOW())
        `, [
                    achievement.dept,
                    achievement.type,
                    achievement.title,
                    achievement.name,
                    achievement.roll_number,
                    achievement.program,
                    achievement.batch,
                    achievement.cgpa
                ]);
                console.log(`Inserted student achievement: ${achievement.title}`);
            } catch (e) {
                console.log(`Error inserting achievement ${achievement.title}:`, e.message);
            }
        }

        // Insert sample workshops
        const workshops = [
            {
                dept: 'MBA',
                title: 'Machine Learning Workshop',
                date_from: '2024-03-01',
                date_to: '2024-03-03',
                description: 'Comprehensive workshop on ML algorithms and applications'
            },
            {
                dept: 'MBA',
                title: 'Web Development Bootcamp',
                date_from: '2024-02-15',
                date_to: '2024-02-19',
                description: 'Intensive bootcamp on modern web development technologies'
            },
            {
                dept: 'MBA',
                title: 'Cybersecurity Seminar',
                date_from: '2024-01-20',
                date_to: '2024-01-20',
                description: 'One-day seminar on latest cybersecurity trends and practices'
            }
        ];

        await connection.execute('DELETE FROM workshops WHERE dept = ?', ['cse']);
        console.log('Cleared existing CSE workshops');

        for (const workshop of workshops) {
            try {
                await connection.execute(`
          INSERT INTO workshops (
            dept, title, date_from, date_to, description, created_at
          ) VALUES (?, ?, ?, ?, ?, NOW())
        `, [
                    workshop.dept,
                    workshop.title,
                    workshop.date_from,
                    workshop.date_to,
                    workshop.description
                ]);
                console.log(`Inserted workshop: ${workshop.title}`);
            } catch (e) {
                console.log(`Error inserting workshop ${workshop.title}:`, e.message);
            }
        }

        console.log('✅ Faculty data migration completed successfully!');*/

    } catch (error) {
        console.error('❌ Error during migration:', error);
    } finally {
        await connection.end();
    }
}

migrateFacultyData();
